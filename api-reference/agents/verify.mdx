---
title: "Verify Agent"
api: "POST /agents/{agentId}/verify"
description: "Verify an AI agent's identity, capabilities, and compliance status"
---

## Request

<ParamField path="agentId" type="string" required>
  The unique identifier of the agent to verify
</ParamField>

<ParamField body="verificationType" type="string" required>
  Type of verification to perform. Options:
  - `identity` - Verify agent's cryptographic identity
  - `capabilities` - Verify claimed capabilities
  - `compliance` - Verify regulatory compliance
  - `performance` - Verify performance metrics
  - `full` - Complete verification (all types)
</ParamField>

<ParamField body="assertions" type="array">
  Specific assertions to verify
  ```json
  [
    "has_capability:text-generation",
    "compliance:GDPR",
    "performance:accuracy>0.95"
  ]
  ```
</ParamField>

<ParamField body="proofType" type="string" default="zk-SNARK">
  Type of proof to generate. Options: `zk-SNARK`, `zk-STARK`
</ParamField>

<ParamField body="includeMetadata" type="boolean" default="false">
  Include additional metadata in the verification response
</ParamField>

<RequestExample>
```bash cURL
curl -X POST https://api.treeship.dev/v1/agents/agent_123/verify \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "verificationType": "full",
    "assertions": [
      "has_capability:data-analysis",
      "compliance:SOC2",
      "performance:uptime>99.9"
    ],
    "proofType": "zk-SNARK",
    "includeMetadata": true
  }'
```

```javascript JavaScript
const verification = await treeship.agents.verify('agent_123', {
  verificationType: 'full',
  assertions: [
    'has_capability:data-analysis',
    'compliance:SOC2',
    'performance:uptime>99.9'
  ],
  proofType: 'zk-SNARK',
  includeMetadata: true
});
```

```python Python
verification = treeship.agents.verify(
    agent_id='agent_123',
    verification_type='full',
    assertions=[
        'has_capability:data-analysis',
        'compliance:SOC2',
        'performance:uptime>99.9'
    ],
    proof_type='zk-SNARK',
    include_metadata=True
)
```
</RequestExample>

## Response

<ResponseField name="agentId" type="string">
  The verified agent's identifier
</ResponseField>

<ResponseField name="verified" type="boolean">
  Overall verification status
</ResponseField>

<ResponseField name="verificationType" type="string">
  Type of verification performed
</ResponseField>

<ResponseField name="proof" type="object">
  Zero-Knowledge proof of verification
  
  <Expandable title="proof properties">
    <ResponseField name="type" type="string">
      Type of proof (zk-SNARK or zk-STARK)
    </ResponseField>
    
    <ResponseField name="data" type="string">
      Base64 encoded proof data
    </ResponseField>
    
    <ResponseField name="publicInputs" type="object">
      Public inputs used in the proof
    </ResponseField>
    
    <ResponseField name="verificationKey" type="string">
      Public key for proof verification
    </ResponseField>
  </Expandable>
</ResponseField>

<ResponseField name="assertions" type="object">
  Results of each assertion check
  ```json
  {
    "has_capability:data-analysis": true,
    "compliance:SOC2": true,
    "performance:uptime>99.9": true
  }
  ```
</ResponseField>

<ResponseField name="capabilities" type="object">
  Verified agent capabilities (if requested)
  
  <Expandable title="capabilities properties">
    <ResponseField name="verified" type="array">
      List of verified capabilities
    </ResponseField>
    
    <ResponseField name="performance" type="object">
      Performance metrics for each capability
    </ResponseField>
  </Expandable>
</ResponseField>

<ResponseField name="compliance" type="object">
  Compliance verification results (if requested)
  
  <Expandable title="compliance properties">
    <ResponseField name="frameworks" type="array">
      List of compliant frameworks
    </ResponseField>
    
    <ResponseField name="certifications" type="array">
      Active certifications
    </ResponseField>
    
    <ResponseField name="lastAudit" type="string">
      ISO 8601 timestamp of last audit
    </ResponseField>
  </Expandable>
</ResponseField>

<ResponseField name="metadata" type="object">
  Additional metadata (if requested)
  
  <Expandable title="metadata properties">
    <ResponseField name="createdAt" type="string">
      Agent creation timestamp
    </ResponseField>
    
    <ResponseField name="lastActive" type="string">
      Last activity timestamp
    </ResponseField>
    
    <ResponseField name="trustScore" type="number">
      Calculated trust score (0-1)
    </ResponseField>
    
    <ResponseField name="transactionCount" type="number">
      Total verified transactions
    </ResponseField>
  </Expandable>
</ResponseField>

<ResponseField name="timestamp" type="string">
  ISO 8601 timestamp of verification
</ResponseField>

<ResponseExample>
```json Success Response
{
  "agentId": "agent_123",
  "verified": true,
  "verificationType": "full",
  "proof": {
    "type": "zk-SNARK",
    "data": "0x8f9d3a4e5b6c7d8e9f0a1b2c3d4e5f6g7h8i9j0k...",
    "publicInputs": {
      "timestamp": 1706380800,
      "agentHash": "0x7d8f9e8a7b6c5d4e3f2a1b0c9d8e7f6a"
    },
    "verificationKey": "0x2a3b4c5d6e7f8g9h0i1j2k3l4m5n6o7p"
  },
  "assertions": {
    "has_capability:data-analysis": true,
    "compliance:SOC2": true,
    "performance:uptime>99.9": true
  },
  "capabilities": {
    "verified": [
      "data-analysis",
      "text-generation",
      "code-generation"
    ],
    "performance": {
      "data-analysis": {
        "accuracy": 0.97,
        "speed": "2.3s avg"
      },
      "text-generation": {
        "quality": 0.94,
        "tokens_per_second": 150
      }
    }
  },
  "compliance": {
    "frameworks": ["SOC2", "ISO27001", "GDPR"],
    "certifications": [
      {
        "name": "SOC2 Type II",
        "validUntil": "2025-12-31",
        "issuer": "Deloitte"
      }
    ],
    "lastAudit": "2024-01-15T10:00:00Z"
  },
  "metadata": {
    "createdAt": "2023-06-01T00:00:00Z",
    "lastActive": "2024-01-27T12:00:00Z",
    "trustScore": 0.98,
    "transactionCount": 15420
  },
  "timestamp": "2024-01-27T12:30:00Z"
}
```

```json Error Response
{
  "error": {
    "code": "agent_not_found",
    "message": "Agent with ID 'agent_123' not found",
    "details": {
      "agentId": "agent_123"
    }
  }
}
```
</ResponseExample>

## Verification Types

### Identity Verification
Verifies the agent's cryptographic identity:
```javascript
const identity = await treeship.agents.verify(agentId, {
  verificationType: 'identity'
});
```

### Capability Verification
Confirms the agent can perform claimed functions:
```javascript
const capabilities = await treeship.agents.verify(agentId, {
  verificationType: 'capabilities',
  assertions: [
    'has_capability:nlp',
    'has_capability:vision'
  ]
});
```

### Performance Verification
Validates performance metrics:
```javascript
const performance = await treeship.agents.verify(agentId, {
  verificationType: 'performance',
  assertions: [
    'accuracy>0.95',
    'latency<100ms',
    'uptime>99.9%'
  ]
});
```

## Use Cases

<AccordionGroup>
  <Accordion title="Pre-transaction Verification">
    Verify an agent before allowing high-value transactions:
    ```javascript
    if (transaction.amount > 10000) {
      const verification = await treeship.agents.verify(
        transaction.agentId,
        {
          verificationType: 'full',
          assertions: ['trust_score>0.95']
        }
      );
      
      if (!verification.verified) {
        throw new Error('Agent verification failed');
      }
    }
    ```
  </Accordion>
  
  <Accordion title="Compliance Auditing">
    Regular compliance checks for regulated industries:
    ```javascript
    const auditResult = await treeship.agents.verify(agentId, {
      verificationType: 'compliance',
      assertions: [
        'compliance:HIPAA',
        'compliance:SOC2',
        'last_audit<30days'
      ],
      includeMetadata: true
    });
    ```
  </Accordion>
  
  <Accordion title="Capability Matching">
    Verify agent capabilities before task assignment:
    ```javascript
    const taskRequirements = ['image-processing', 'gpu-acceleration'];
    const verification = await treeship.agents.verify(agentId, {
      verificationType: 'capabilities',
      assertions: taskRequirements.map(cap => `has_capability:${cap}`)
    });
    ```
  </Accordion>
</AccordionGroup>